import{r as a,u as R,j as e}from"./index-aO5FndUg.js";import{l as S,a as i}from"./Please_wait-C5FXsACH.js";import{R as k}from"./RatingReview-Bmaw1XMW.js";import{a as m}from"./index-xsH4HHeE.js";function E(){const[o,u]=a.useState(!1),[d,x]=a.useState(0),[n,g]=a.useState([]),h=R(),[f,c]=a.useState({productReviewed:"",comment:"",reviewer:"",email:"",rate:0,commentDate:new Date().toISOString()}),l=new Date,b=l.getDate(),p=l.getMonth()+1,w=l.getFullYear(),y=async()=>{await m.post("http://localhost:3000/klinchem/createReviews",f).then(t=>{console.log(t.data),h("/klinchem/products_reviews")}).catch(t=>{console.log(t)}),u(!0)},j=t=>{t.preventDefault(),y()},r=(t,s)=>{c(N=>({...N,[s]:t.target.value}))},v=t=>{c(s=>({...s,rate:t,commentDate:`${p}/${b}/${w}`}))};return a.useEffect(()=>{(async()=>{await m.get("http://localhost:3000/klinchem/ProductReviews/new").then(s=>{g(s.data)}).catch(s=>{throw new Error(s)})})()},[]),e.jsxs("div",{className:"w-full h-full flex justify-center items-center animate-flyin flex-col",children:[e.jsxs("section",{className:"w-[50%] ",children:[e.jsx("h1",{className:"flex justify-center items-center mb-8 text-blue-900 text-[2em]",children:"Create Review"}),e.jsxs("form",{encType:"multipart/form-data",onSubmit:j,children:[" ",e.jsxs("div",{className:"mb-4",children:[" ",e.jsxs("div",{className:"mb-4",children:[" ",e.jsx("label",{htmlFor:"reviewer",className:"block text-gray-700 font-medium mb-2",children:"Your Name"}),e.jsx("input",{type:"text",name:"reviewer",className:"text-gray-700 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-950",onChange:t=>r(t,"reviewer")})]}),e.jsxs("div",{className:"mb-4",children:[" ",e.jsx("label",{htmlFor:"email",className:"block text-gray-700 font-medium mb-2",children:"Email"}),e.jsx("input",{type:"email",name:"email",className:"text-gray-700 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-950",onChange:t=>r(t,"email")})]}),e.jsxs("div",{className:"mb-4",children:[" ",e.jsx("label",{htmlFor:"productReviewed",className:"block text-gray-700 font-medium mb-2",children:"Select Product"}),e.jsxs("select",{name:"productReviewed",id:"productReviewed",className:"text-gray-700 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-950",onChange:t=>r(t,"productReviewed"),children:[e.jsx("option",{children:"Select"}),n.length&&n.map(t=>e.jsx("option",{children:t.productName},t._id))]})]}),e.jsx("label",{htmlFor:"comment",className:"block text-gray-700 font-medium mb-2",children:"Review"}),e.jsx("textarea",{id:"comment",name:"comment",rows:"6",className:"text-gray-700 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-950",placeholder:"Enter your content here...",onChange:t=>r(t,"comment"),required:!0})," ",e.jsxs("div",{className:"mb-4",children:[" ",e.jsx("label",{htmlFor:"rate",className:"block text-gray-700 font-medium mb-2",children:"Rate"}),e.jsx("p",{className:"text-black",children:"Please rate the product"}),e.jsx(k,{rating:d,setRating:x,name:"rate",handleReview:v,textSize:"text-[35px]"})," "]})," "]})," ",e.jsxs("button",{disabled:o,type:"submit",className:"w-full flex flex-row items-center justify-center bg-black text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-950 focus:ring-opacity-50",children:["Submit",o&&e.jsx("img",{src:S,alt:"loadin-gif",className:"h-4 w-4 rounded ml-1"})]})," "]})]}),o&&e.jsxs("p",{className:"text-blue-800 flex justify-center items-center flex-col",children:[e.jsx("img",{src:i,alt:i,className:"w-5 h-5 pt-1 "}),"Please Wait....."]})]})}export{E as default};
