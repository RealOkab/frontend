import{r as c,u as h,b as g,j as e}from"./index-aO5FndUg.js";import{a as d}from"./index-xsH4HHeE.js";import{l as b,a as n}from"./Please_wait-C5FXsACH.js";function w(){const[s,i]=c.useState(!1),[a,u]=c.useState({}),o=h(),l=g(),m=t=>{t.preventDefault();const r=new FormData(t.target),p=Object.fromEntries(r.entries());f(p),i(!0)},x=()=>{o("/products")},f=async t=>{t.productAdvertMessage=t.productAdvertMessage.replace(/\*(.*?)\*/g,"<strong>$1</strong>"),console.log(t),await d.put(`http://localhost:3000/klinchem/${l.id}/editProduct`,t,{headers:{"Content-Type":"multipart/form-data"}}).then(r=>{console.log(r.data),o("/products")}).catch(r=>{throw new Error(r)})};return c.useEffect(()=>{d.get(`http://localhost:3000/klinchem/${l.id}/editProduct`).then(t=>{u(t.data)}).catch(t=>{throw new Error(t)})},[l]),e.jsxs(e.Fragment,{children:[e.jsx("h2",{className:"animate-flyin decoration-underline  mt-8 font-Montserrat font-semibold  text-[1.5em] text-blue-950 flex justify-center items-center",children:"EDIT PRODUCT"}),e.jsx("section",{className:"flex item-center justify-center animate-fly-in duration-500 animate-flyin",children:e.jsx("form",{className:"w-[60%] flex flex-col ",onSubmit:m,encType:"multipart/form-data",children:e.jsxs("section",{className:"flex flex-col text-black",children:[e.jsxs("div",{className:"flex flex-col ",children:[e.jsx("label",{className:"flex item-start",children:"Product Name"}),e.jsx("input",{className:"border border-gray-900 rounded pl-1",type:"text",name:"productName",placeholder:" ProductName",required:!0,defaultValue:a.productName})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"flex item-start",children:"Price"}),e.jsx("input",{className:"border border-gray-900 rounded pl-1",placeholder:" Price",type:"number",name:"productPrice",defaultValue:a.productPrice})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"flex item-start",children:"Description"}),e.jsx("input",{className:"border border-gray-900 rounded pl-1 ",type:"text",placeholder:" Desceribe product in few words",name:"productDescription",required:!0,defaultValue:a.productDescription})]}),e.jsxs("div",{className:"flex flex-col",children:[e.jsx("label",{className:"flex item-start",children:"Full Description"}),e.jsx("textarea",{name:"productAdvertMessage",className:"border border-gray-900 rounded pl-1 ",id:"productAdvertMessage",placeholder:" Desceribe product in full words",required:!0,defaultValue:a.productAdvertMessage})]}),e.jsx("div",{className:"flex flex-col mt-4",children:e.jsx("input",{className:"border border-gray-900 rounded ",type:"file",name:"productImage",required:!0})}),e.jsxs("section",{className:"flex flex-row flex-start",children:[e.jsxs("button",{type:"submit",className:`  flex-row justify-center items-center mt-2 p-1 flex self-start border ${s&&"text-gray-300 bg-gray-800"} border-gray-700 bg-blue-600 text-gray-50 rounded 
              }`,disabled:s,children:["Update"," ",s&&e.jsx("img",{src:b,alt:"loadin-gif",className:"h-4 w-4 rounded ml-1"})]}),e.jsx("button",{type:"button",className:"bg-red-600 text-gray-50 mt-2 p-1 rounded ml-2",onClick:x,children:"Cancel"})]})]})})}),s&&e.jsxs("p",{className:"text-blue-800 flex justify-center items-center flex-col",children:[e.jsx("img",{src:n,alt:n,className:"w-40 h-40 "}),"Please Wait....."]})]})}export{w as default};
