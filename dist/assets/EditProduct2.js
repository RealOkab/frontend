import{d as e,w as t,S as r,u as s}from"./index.js";import{o as a}from"./index22.js";import{s as l,a as c}from"./Please_wait2.js";import"./preload-helper.js";function d(){const[d,o]=e.useState(!1),[i,n]=e.useState({}),m=t(),u=r();return e.useEffect((()=>{a.get(`http://localhost:3000/klinchem/${u.id}/editProduct`).then((e=>{n(e.data)})).catch((e=>{throw new Error(e)}))}),[u]),s.jsxs(s.Fragment,{children:[s.jsx("h2",{className:"animate-flyin decoration-underline  mt-8 font-Montserrat font-semibold  text-[1.5em] text-blue-950 flex justify-center items-center",children:"EDIT PRODUCT"}),s.jsx("section",{className:"flex item-center justify-center animate-fly-in duration-500 animate-flyin",children:s.jsx("form",{className:"w-[60%] flex flex-col ",onSubmit:e=>{e.preventDefault();const t=new FormData(e.target);(async e=>{e.productAdvertMessage=e.productAdvertMessage.replace(/\*(.*?)\*/g,"<strong>$1</strong>"),console.log(e),await a.put(`http://localhost:3000/klinchem/${u.id}/editProduct`,e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{console.log(e.data),m("/products")})).catch((e=>{throw new Error(e)}))})(Object.fromEntries(t.entries())),o(!0)},encType:"multipart/form-data",children:s.jsxs("section",{className:"flex flex-col text-black",children:[s.jsxs("div",{className:"flex flex-col ",children:[s.jsx("label",{className:"flex item-start",children:"Product Name"}),s.jsx("input",{className:"border border-gray-900 rounded pl-1",type:"text",name:"productName",placeholder:" ProductName",required:!0,defaultValue:i.productName})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"flex item-start",children:"Price"}),s.jsx("input",{className:"border border-gray-900 rounded pl-1",placeholder:" Price",type:"number",name:"productPrice",defaultValue:i.productPrice})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"flex item-start",children:"Description"}),s.jsx("input",{className:"border border-gray-900 rounded pl-1 ",type:"text",placeholder:" Desceribe product in few words",name:"productDescription",required:!0,defaultValue:i.productDescription})]}),s.jsxs("div",{className:"flex flex-col",children:[s.jsx("label",{className:"flex item-start",children:"Full Description"}),s.jsx("textarea",{name:"productAdvertMessage",className:"border border-gray-900 rounded pl-1 ",id:"productAdvertMessage",placeholder:" Desceribe product in full words",required:!0,defaultValue:i.productAdvertMessage})]}),s.jsx("div",{className:"flex flex-col mt-4",children:s.jsx("input",{className:"border border-gray-900 rounded ",type:"file",name:"productImage",required:!0})}),s.jsxs("section",{className:"flex flex-row flex-start",children:[s.jsxs("button",{type:"submit",className:`  flex-row justify-center items-center mt-2 p-1 flex self-start border ${d&&"text-gray-300 bg-gray-800"} border-gray-700 bg-blue-600 text-gray-50 rounded \n              }`,disabled:d,children:["Update"," ",d&&s.jsx("img",{src:l,alt:"loadin-gif",className:"h-4 w-4 rounded ml-1"})]}),s.jsx("button",{type:"button",className:"bg-red-600 text-gray-50 mt-2 p-1 rounded ml-2",onClick:()=>{m("/products")},children:"Cancel"})]})]})})}),d&&s.jsxs("p",{className:"text-blue-800 flex justify-center items-center flex-col",children:[s.jsx("img",{src:c,alt:c,className:"w-40 h-40 "}),"Please Wait....."]})]})}export{d as default};
