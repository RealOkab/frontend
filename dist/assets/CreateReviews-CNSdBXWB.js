import{r as e,u as t,j as a}from"./index-DiUvjWHH.js";import{l,a as s}from"./Please_wait-BgS8P1K_.js";import{R as r}from"./RatingReview-BgNGznh7.js";import{a as n}from"./index-BTvahscA.js";function o(){const[o,c]=e.useState(!1),[i,m]=e.useState(0),[u,d]=e.useState([]),x=t(),[f,h]=e.useState({productReviewed:"",comment:"",reviewer:"",email:"",rate:0,commentDate:(new Date).toISOString()}),g=new Date,b=g.getDate(),p=g.getMonth()+1,j=g.getFullYear(),w=(e,t)=>{h((a=>({...a,[t]:e.target.value})))};return e.useEffect((()=>{(async()=>{await n.get("http://localhost:3000/klinchem/ProductReviews/new").then((e=>{d(e.data)})).catch((e=>{throw new Error(e)}))})()}),[]),a.jsxs("div",{className:"w-full h-full flex justify-center items-center animate-flyin flex-col",children:[a.jsxs("section",{className:"w-[50%] ",children:[a.jsx("h1",{className:"flex justify-center items-center mb-8 text-blue-900 text-[2em]",children:"Create Review"}),a.jsxs("form",{encType:"multipart/form-data",onSubmit:e=>{e.preventDefault(),(async()=>{await n.post("http://localhost:3000/klinchem/createReviews",f).then((e=>{console.log(e.data),x("/klinchem/products_reviews")})).catch((e=>{console.log(e)})),c(!0)})()},children:[" ",a.jsxs("div",{className:"mb-4",children:[" ",a.jsxs("div",{className:"mb-4",children:[" ",a.jsx("label",{htmlFor:"reviewer",className:"block text-gray-700 font-medium mb-2",children:"Your Name"}),a.jsx("input",{type:"text",name:"reviewer",className:"text-gray-700 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-950",onChange:e=>w(e,"reviewer")})]}),a.jsxs("div",{className:"mb-4",children:[" ",a.jsx("label",{htmlFor:"email",className:"block text-gray-700 font-medium mb-2",children:"Email"}),a.jsx("input",{type:"email",name:"email",className:"text-gray-700 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-950",onChange:e=>w(e,"email")})]}),a.jsxs("div",{className:"mb-4",children:[" ",a.jsx("label",{htmlFor:"productReviewed",className:"block text-gray-700 font-medium mb-2",children:"Select Product"}),a.jsxs("select",{name:"productReviewed",id:"productReviewed",className:"text-gray-700 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-950",onChange:e=>w(e,"productReviewed"),children:[a.jsx("option",{children:"Select"}),u.length&&u.map((e=>a.jsx("option",{children:e.productName},e._id)))]})]}),a.jsx("label",{htmlFor:"comment",className:"block text-gray-700 font-medium mb-2",children:"Review"}),a.jsx("textarea",{id:"comment",name:"comment",rows:"6",className:"text-gray-700 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-950",placeholder:"Enter your content here...",onChange:e=>w(e,"comment"),required:!0})," ",a.jsxs("div",{className:"mb-4",children:[" ",a.jsx("label",{htmlFor:"rate",className:"block text-gray-700 font-medium mb-2",children:"Rate"}),a.jsx("p",{className:"text-black",children:"Please rate the product"}),a.jsx(r,{rating:i,setRating:m,name:"rate",handleReview:e=>{h((t=>({...t,rate:e,commentDate:`${p}/${b}/${j}`})))},textSize:"text-[35px]"})," "]})," "]})," ",a.jsxs("button",{disabled:o,type:"submit",className:"w-full flex flex-row items-center justify-center bg-black text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-950 focus:ring-opacity-50",children:["Submit",o&&a.jsx("img",{src:l,alt:"loadin-gif",className:"h-4 w-4 rounded ml-1"})]})," "]})]}),o&&a.jsxs("p",{className:"text-blue-800 flex justify-center items-center flex-col",children:[a.jsx("img",{src:s,alt:s,className:"w-5 h-5 pt-1 "}),"Please Wait....."]})]})}export{o as default};
