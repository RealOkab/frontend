import{r as e,u as t,b as r,j as a}from"./main.js";import{a as s}from"./index2.js";import{l,a as c}from"./Please_wait.js";import"./preload-helper.js";function d(){const[d,o]=e.useState(!1),[i,n]=e.useState({}),m=t(),u=r();return e.useEffect((()=>{s.get(`http://localhost:3000/klinchem/${u.id}/editProduct`).then((e=>{n(e.data)})).catch((e=>{throw new Error(e)}))}),[u]),a.jsxs(a.Fragment,{children:[a.jsx("h2",{className:"animate-flyin decoration-underline  mt-8 font-Montserrat font-semibold  text-[1.5em] text-blue-950 flex justify-center items-center",children:"EDIT PRODUCT"}),a.jsx("section",{className:"flex item-center justify-center animate-fly-in duration-500 animate-flyin",children:a.jsx("form",{className:"w-[60%] flex flex-col ",onSubmit:e=>{e.preventDefault();const t=new FormData(e.target);(async e=>{e.productAdvertMessage=e.productAdvertMessage.replace(/\*(.*?)\*/g,"<strong>$1</strong>"),console.log(e),await s.put(`http://localhost:3000/klinchem/${u.id}/editProduct`,e,{headers:{"Content-Type":"multipart/form-data"}}).then((e=>{console.log(e.data),m("/products")})).catch((e=>{throw new Error(e)}))})(Object.fromEntries(t.entries())),o(!0)},encType:"multipart/form-data",children:a.jsxs("section",{className:"flex flex-col text-black",children:[a.jsxs("div",{className:"flex flex-col ",children:[a.jsx("label",{className:"flex item-start",children:"Product Name"}),a.jsx("input",{className:"border border-gray-900 rounded pl-1",type:"text",name:"productName",placeholder:" ProductName",required:!0,defaultValue:i.productName})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"flex item-start",children:"Price"}),a.jsx("input",{className:"border border-gray-900 rounded pl-1",placeholder:" Price",type:"number",name:"productPrice",defaultValue:i.productPrice})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"flex item-start",children:"Description"}),a.jsx("input",{className:"border border-gray-900 rounded pl-1 ",type:"text",placeholder:" Desceribe product in few words",name:"productDescription",required:!0,defaultValue:i.productDescription})]}),a.jsxs("div",{className:"flex flex-col",children:[a.jsx("label",{className:"flex item-start",children:"Full Description"}),a.jsx("textarea",{name:"productAdvertMessage",className:"border border-gray-900 rounded pl-1 ",id:"productAdvertMessage",placeholder:" Desceribe product in full words",required:!0,defaultValue:i.productAdvertMessage})]}),a.jsx("div",{className:"flex flex-col mt-4",children:a.jsx("input",{className:"border border-gray-900 rounded ",type:"file",name:"productImage",required:!0})}),a.jsxs("section",{className:"flex flex-row flex-start",children:[a.jsxs("button",{type:"submit",className:`  flex-row justify-center items-center mt-2 p-1 flex self-start border ${d&&"text-gray-300 bg-gray-800"} border-gray-700 bg-blue-600 text-gray-50 rounded \n              }`,disabled:d,children:["Update"," ",d&&a.jsx("img",{src:l,alt:"loadin-gif",className:"h-4 w-4 rounded ml-1"})]}),a.jsx("button",{type:"button",className:"bg-red-600 text-gray-50 mt-2 p-1 rounded ml-2",onClick:()=>{m("/products")},children:"Cancel"})]})]})})}),d&&a.jsxs("p",{className:"text-blue-800 flex justify-center items-center flex-col",children:[a.jsx("img",{src:c,alt:c,className:"w-40 h-40 "}),"Please Wait....."]})]})}export{d as default};
