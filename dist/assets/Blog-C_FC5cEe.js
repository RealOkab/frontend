import{u as x,r as m,j as e}from"./index-aO5FndUg.js";import{a as h}from"./index-xsH4HHeE.js";import{h as b}from"./index-KuHhQwsM.js";import{M as j,B as o}from"./Modal-Bgu2cSv4.js";function y({blogTitle:s,blogMessage:c,blogImage:r,id:a}){const i=new b.Parser,t=x(),[n,d]=m.useState({initialConfirmation:!1}),u=()=>{t(`/klinchem/blog/${a}/update`)};function g(){d(l=>({...l,initialConfirmation:!0}))}const f=()=>{d(l=>({...l,initialConfirmation:!1}))},p=async()=>{await h.delete(`http://localhost:3000/klinchem/blog/${a}/delete`).then(l=>{f(),t("/klinchem/blogSuccessSeletion"),console.log(l)}).catch(l=>{throw new Error(l)})};return e.jsxs("div",{className:"mt-6 flex flex-col",children:[n.initialConfirmation&&e.jsx(j,{open:!0,className:" bg-opacity-30 z-50  flex justify-center items-center rounded  ",children:e.jsxs("div",{className:`flex justify-center items-center  rounded 
         h-[20vh] w-[80vw] `,children:[e.jsx("div",{className:"flex flex-col w-[100%] self-start  rounded",children:e.jsxs("h3",{className:" font-semibold text-blue-500 text-[1.5em] ml-4 ",children:["Deletion",e.jsx("p",{className:"font-Khula font-light text-[0.5em] text-black",children:"Do you want to proceed? This action cannnot be undone"})]})}),e.jsxs("section",{className:"flex flex-row  w-[100%] self-end ",children:[e.jsx(o,{className:"bg-red-500 rounded text-gray-50 ml-1 mr-1 p-2 mb-4 ",type:"button",onClick:p,children:"Confirm"}),e.jsx(o,{className:"bg-blue-600 rounded text-gray-50  ml-1 mr-1  p-2  mb-4 ",type:"button",onClick:f,children:"Cancel"})]})]})}),e.jsxs("div",{className:"flex flex-col items-center justify-center",children:[e.jsx("h3",{className:"text-[1.5rem] flex-flex-wrap mt-2 flex items-center justify-center text-blue-700  font-bold  text-center",children:s.toUpperCase()}),e.jsxs("div",{className:"flex flex-col lg:flex-row justify-center items-center",children:[e.jsxs("p",{children:[" ",e.jsx("img",{src:"https://res.cloudinary.com/dyepzv7v1/image/upload/"+r,alt:"blogImage",className:"w-[20rem] h-[20rem] rounded-[2%]"})]}),e.jsx("p",{className:"flex flex-col justify-center items-center lg:w-2/3  pl-4",children:i.parse(c)})]})]}),e.jsxs("div",{className:"flex flex-row justify-center items-center",children:[e.jsx(o,{className:"bg-blue-800 text-gray-50 p-2 rounded m-1",onClick:u,children:"Update"}),e.jsx(o,{className:"bg-red-600 text-gray-50 p-2 rounded m-1 mt-4 mb-4",onClick:g,children:"Delete"})]}),e.jsxs("div",{className:"relative my-8 w-[70%]  flex justify-center items-center self-center",children:[" ",e.jsx("span",{className:" flex self-center absolute left-0 top-1/2 transform -translate-y-1/2 w-full h-0.5 bg-gradient-to-r from-blue-400 via-green-400 to-purple-400 rounded-full shadow-md"})," "]})]})}function k(){const[s,c]=m.useState([]),r=x();m.useEffect(()=>{(async()=>{await h.get("http://localhost:3000/klinchem/klinchemBlog").then(n=>{c(n.data)}).catch(n=>{console.log(n)})})()},[]);const a=()=>{r("/klinchem/products_blog/new")},i=e.jsxs("p",{className:"text-blue-950 flex justify-center items-center text-[1em] h-80 w-[90%] self-center",children:["No Blog. Click on Blog to create post or"," ",e.jsx("button",{onClick:a,className:"bg-blue-700 text-gray-50 p-1 rounded ml-2",children:"Click here"})]});return e.jsx("div",{className:"animate-flyin delay-500 flex justify-center items-center",children:s.length===0?i:s.length>0&&s.map(t=>e.jsx("section",{children:e.jsx("h3",{className:"text-black",children:e.jsx(y,{id:t._id,blogImage:t.blogImage,blogTitle:t.blogTitle,blogMessage:t.blogMessage},t.blogTitle)})},t.blogMessage))})}export{k as default};
