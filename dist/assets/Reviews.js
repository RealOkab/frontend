import{u as e,r as t,j as s}from"./main.js";import{a as n}from"./index2.js";import{R as i}from"./RatingReview.js";import{M as a,B as l}from"./Modal.js";import"./preload-helper.js";function r({reviewer:r,email:c,comment:o,rate:m,product:d,commentDate:x,_id:h}){const u=e(),[f,p]=t.useState({initialConfirmation:!1});return s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex flex-col mt-4 mb-4 w-[70%]",children:[f.initialConfirmation&&s.jsx(a,{open:!0,className:" bg-opacity-30 z-50  flex justify-center items-center rounded  ",children:s.jsxs("div",{className:"flex justify-center items-center  rounded \n         h-[20vh] w-[80vw] ",children:[s.jsx("div",{className:"flex flex-col w-[100%] self-start  rounded",children:s.jsxs("h3",{className:" font-semibold text-blue-500 text-[1.5em] ml-4 ",children:["Deletion",s.jsx("p",{className:"font-Khula font-light text-[0.5em] text-black",children:"Do you want to proceed? This action cannnot be undone"})]})}),s.jsxs("section",{className:"flex flex-row  w-[100%] self-end ",children:[s.jsx(l,{className:"bg-red-500 rounded text-gray-50 ml-1 mr-1 p-2 mb-4 ",type:"button",onClick:async()=>{await n.delete(`http://localhost:3000/klinchem/deleteRreview/${h}/delete`).then((()=>{u("/klinchem/products_reviews/success")})).catch((e=>{throw new Error(e)}))},children:"Confirm"}),s.jsx(l,{className:"bg-blue-600 rounded text-gray-50  ml-1 mr-1  p-2  mb-4 ",type:"button",onClick:()=>{p((e=>({...e,initialConfirmation:!1})))},children:"Cancel"})]})]})}),s.jsx("h2",{className:"font-extralight text-[12px] underline",children:x}),s.jsxs("h2",{className:"font-semibold",children:[r," ",s.jsx("span",{className:"text-[12px] font-thin",children:" reviewing -"}),s.jsxs("span",{className:"text-blue-700 text-[12px]",children:[" ",d]})]}),s.jsx(i,{rating:m,textSize:"text-[15px]"}),s.jsx("h3",{className:"text-[15px] text-gray-500 font-light",children:c}),s.jsx("h4",{children:o})]}),s.jsxs("div",{children:[s.jsx("button",{className:"bg-blue-600 text-white p-1 rounded text-[.8em] mr-1 ",onClick:()=>{u(`/klinchem/ProductReviews/${h}/update`)},children:"Update"}),s.jsx("button",{className:"bg-red-600 text-white p-1 rounded text-[.8em] ml-1",onClick:()=>{p((e=>({...e,initialConfirmation:!0})))},children:"Delete"})]})]})}function c(){const[e,i]=t.useState([]);return t.useEffect((()=>{(async()=>{await n.get("http://localhost:3000/klinchem/ProductReviews").then((e=>{i(e.data)})).catch((e=>{throw new Error(e)}))})()}),[]),s.jsx("div",{className:"animate-fly-in duration-500 text-black flex items-center justify-center mt-6",children:s.jsxs("section",{className:"w-[80%]",children:[s.jsx("h1",{className:"text-blue-700 text-[2em]",children:"All Reviews"}),e.length>0&&e.map((e=>s.jsx(r,{commentDate:e.commentDate.slice(0,10),product:e.productReviewed,reviewer:e.reviewer,email:e.email,comment:e.comment,rate:e.rate,_id:e._id},e._id)))]})})}export{c as default};
