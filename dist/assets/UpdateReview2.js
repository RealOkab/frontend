import{f as e,S as t,x as a,i as l}from"./index.js";import{s as r,a as s}from"./Please_wait2.js";import{t as n}from"./RatingReview2.js";import{o}from"./index4.js";import"./preload-helper.js";function i(){const[i,c]=e.useState(!1),[m,d]=e.useState(0),[u,x]=e.useState([]),[h,f]=e.useState([]),p=t(),b=a(),[g,w]=e.useState({productReviewed:"",comment:"",reviewer:"",email:"",rate:0,commentDate:(new Date).toISOString()}),j=new Date,y=j.getDate(),v=j.getMonth()+1,N=j.getFullYear(),R=(e,t)=>{w((a=>({...a,[t]:e.target.value})))};return e.useEffect((()=>{(async()=>{await o.get("http://localhost:3000/klinchem/ProductReviews/new").then((e=>{x(e.data)})).catch((e=>{throw new Error(e)})),await o.get(`http://localhost:3000/klinchem/ProductReviews/${b.id}/update`).then((e=>{f(e.data)})).catch((e=>{throw new Error(e)}))})()}),[b.id]),l.jsxs("div",{className:"w-full h-full flex justify-center items-center animate-flyin flex-col",children:[l.jsxs("section",{className:"w-[50%] ",children:[l.jsx("h1",{className:"flex justify-center items-center mb-8 text-blue-900 text-[2em]",children:"Update Review"}),l.jsxs("form",{encType:"multipart/form-data",onSubmit:e=>{e.preventDefault(),(async()=>{await o.put(`http://localhost:3000/klinchem/ProductReviews/${b.id}/update`,g).then((()=>{p("/klinchem/products_reviews")})).catch((e=>{console.log(e)})),c(!0)})()},children:[" ",l.jsxs("div",{className:"mb-4",children:[" ",l.jsxs("div",{className:"mb-4",children:[" ",l.jsx("label",{htmlFor:"reviewer",className:"block text-gray-700 font-medium mb-2",children:"Your Name"}),l.jsx("input",{type:"text",name:"reviewer",className:"text-gray-700 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-950",onChange:e=>R(e,"reviewer"),defaultValue:h.reviewer})]}),l.jsxs("div",{className:"mb-4",children:[" ",l.jsx("label",{htmlFor:"email",className:"block text-gray-700 font-medium mb-2",children:"Email"}),l.jsx("input",{type:"email",name:"email",className:"text-gray-700 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-950",onChange:e=>R(e,"email"),defaultValue:h.email})]}),l.jsxs("div",{className:"mb-4",children:[" ",l.jsx("label",{htmlFor:"productReviewed",className:"block text-gray-700 font-medium mb-2",children:"Select Product"}),l.jsxs("select",{name:"productReviewed",id:"productReviewed",className:"text-gray-700 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-950",onChange:e=>R(e,"productReviewed"),defaultValue:h.productReviewed,children:[l.jsx("option",{value:"Select",children:"Select"}),u.length&&u.map((e=>l.jsx("option",{children:e.productName},e._id)))]})]}),l.jsx("label",{htmlFor:"comment",className:"block text-gray-700 font-medium mb-2",children:"Review"}),l.jsx("textarea",{id:"comment",name:"comment",rows:"6",className:"text-gray-700 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-950",placeholder:"Enter your content here...",onChange:e=>R(e,"comment"),required:!0,defaultValue:h.comment})," ",l.jsxs("div",{className:"mb-4",children:[" ",l.jsx("label",{htmlFor:"rate",className:"block text-gray-700 font-medium mb-2",children:"Rate"}),l.jsx("p",{className:"text-black",children:"Please rate the product"}),l.jsx(n,{rating:m,setRating:d,name:"rate",handleReview:e=>{w((t=>({...t,rate:e,commentDate:`${v}/${y}/${N}`})))},textSize:"text-[35px]"})," "]})," "]})," ",l.jsxs("div",{className:"flex flex-row",children:[l.jsxs("button",{disabled:i,type:"submit",className:"w-2/3 flex flex-row items-center justify-center bg-black text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-950 focus:ring-opacity-50",children:["Submit",i&&l.jsx("img",{src:r,alt:"loadin-gif",className:"h-4 w-4 rounded ml-1"})]})," ",l.jsx("button",{className:"w-1/3 bg-blue-700 text-gray-50 font-bold rounded ml-2",type:"button",onClick:()=>{p("/klinchem/products_reviews")},children:"Cancel"})]})]})]}),i&&l.jsxs("p",{className:"text-blue-800 flex justify-center items-center flex-col",children:[l.jsx("img",{src:s,alt:s,className:"w-5 h-5 pt-1 "}),"Please Wait....."]})]})}export{i as default};
