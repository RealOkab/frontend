import{d as e,u as t,w as s}from"./index.js";import{o as n}from"./index22.js";import{t as i}from"./RatingReview2.js";import{n as l,r as a}from"./Modal2.js";import"./preload-helper.js";function r({reviewer:r,email:c,comment:o,rate:m,product:d,commentDate:x,_id:h}){const u=s(),[f,p]=e.useState({initialConfirmation:!1});return t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"flex flex-col mt-4 mb-4 w-[70%]",children:[f.initialConfirmation&&t.jsx(l,{open:!0,className:" bg-opacity-30 z-50  flex justify-center items-center rounded  ",children:t.jsxs("div",{className:"flex justify-center items-center  rounded \n         h-[20vh] w-[80vw] ",children:[t.jsx("div",{className:"flex flex-col w-[100%] self-start  rounded",children:t.jsxs("h3",{className:" font-semibold text-blue-500 text-[1.5em] ml-4 ",children:["Deletion",t.jsx("p",{className:"font-Khula font-light text-[0.5em] text-black",children:"Do you want to proceed? This action cannnot be undone"})]})}),t.jsxs("section",{className:"flex flex-row  w-[100%] self-end ",children:[t.jsx(a,{className:"bg-red-500 rounded text-gray-50 ml-1 mr-1 p-2 mb-4 ",type:"button",onClick:async()=>{await n.delete(`http://localhost:3000/klinchem/deleteRreview/${h}/delete`).then((()=>{u("/klinchem/products_reviews/success")})).catch((e=>{throw new Error(e)}))},children:"Confirm"}),t.jsx(a,{className:"bg-blue-600 rounded text-gray-50  ml-1 mr-1  p-2  mb-4 ",type:"button",onClick:()=>{p((e=>({...e,initialConfirmation:!1})))},children:"Cancel"})]})]})}),t.jsx("h2",{className:"font-extralight text-[12px] underline",children:x}),t.jsxs("h2",{className:"font-semibold",children:[r," ",t.jsx("span",{className:"text-[12px] font-thin",children:" reviewing -"}),t.jsxs("span",{className:"text-blue-700 text-[12px]",children:[" ",d]})]}),t.jsx(i,{rating:m,textSize:"text-[15px]"}),t.jsx("h3",{className:"text-[15px] text-gray-500 font-light",children:c}),t.jsx("h4",{children:o})]}),t.jsxs("div",{children:[t.jsx("button",{className:"bg-blue-600 text-white p-1 rounded text-[.8em] mr-1 ",onClick:()=>{u(`/klinchem/ProductReviews/${h}/update`)},children:"Update"}),t.jsx("button",{className:"bg-red-600 text-white p-1 rounded text-[.8em] ml-1",onClick:()=>{p((e=>({...e,initialConfirmation:!0})))},children:"Delete"})]})]})}function c(){const[s,i]=e.useState([]);return e.useEffect((()=>{(async()=>{await n.get("http://localhost:3000/klinchem/ProductReviews").then((e=>{i(e.data)})).catch((e=>{throw new Error(e)}))})()}),[]),t.jsx("div",{className:"animate-fly-in duration-500 text-black flex items-center justify-center mt-6",children:t.jsxs("section",{className:"w-[80%]",children:[t.jsx("h1",{className:"text-blue-700 text-[2em]",children:"All Reviews"}),s.length>0&&s.map((e=>t.jsx(r,{commentDate:e.commentDate.slice(0,10),product:e.productReviewed,reviewer:e.reviewer,email:e.email,comment:e.comment,rate:e.rate,_id:e._id},e._id)))]})})}export{c as default};
