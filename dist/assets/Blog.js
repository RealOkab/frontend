import{u as e,r as l,j as t}from"./main.js";import{a as s}from"./index2.js";import{h as n}from"./index3.js";import{M as a,B as i}from"./Modal.js";import"./preload-helper.js";function c({blogTitle:c,blogMessage:r,blogImage:o,id:m}){const d=new n.Parser,x=e(),[f,h]=l.useState({initialConfirmation:!1}),u=()=>{h((e=>({...e,initialConfirmation:!1})))};return t.jsxs("div",{className:"mt-6 flex flex-col",children:[f.initialConfirmation&&t.jsx(a,{open:!0,className:" bg-opacity-30 z-50  flex justify-center items-center rounded  ",children:t.jsxs("div",{className:"flex justify-center items-center  rounded \n         h-[20vh] w-[80vw] ",children:[t.jsx("div",{className:"flex flex-col w-[100%] self-start  rounded",children:t.jsxs("h3",{className:" font-semibold text-blue-500 text-[1.5em] ml-4 ",children:["Deletion",t.jsx("p",{className:"font-Khula font-light text-[0.5em] text-black",children:"Do you want to proceed? This action cannnot be undone"})]})}),t.jsxs("section",{className:"flex flex-row  w-[100%] self-end ",children:[t.jsx(i,{className:"bg-red-500 rounded text-gray-50 ml-1 mr-1 p-2 mb-4 ",type:"button",onClick:async()=>{await s.delete(`http://localhost:3000/klinchem/blog/${m}/delete`).then((e=>{u(),x("/klinchem/blogSuccessSeletion"),console.log(e)})).catch((e=>{throw new Error(e)}))},children:"Confirm"}),t.jsx(i,{className:"bg-blue-600 rounded text-gray-50  ml-1 mr-1  p-2  mb-4 ",type:"button",onClick:u,children:"Cancel"})]})]})}),t.jsxs("div",{className:"flex flex-col items-center justify-center",children:[t.jsx("h3",{className:"text-[1.5rem] flex-flex-wrap mt-2 flex items-center justify-center text-blue-700  font-bold  text-center",children:c.toUpperCase()}),t.jsxs("div",{className:"flex flex-col lg:flex-row justify-center items-center",children:[t.jsxs("p",{children:[" ",t.jsx("img",{src:"https://res.cloudinary.com/dyepzv7v1/image/upload/"+o,alt:"blogImage",className:"w-[20rem] h-[20rem] rounded-[2%]"})]}),t.jsx("p",{className:"flex flex-col justify-center items-center lg:w-2/3  pl-4",children:d.parse(r)})]})]}),t.jsxs("div",{className:"flex flex-row justify-center items-center",children:[t.jsx(i,{className:"bg-blue-800 text-gray-50 p-2 rounded m-1",onClick:()=>{x(`/klinchem/blog/${m}/update`)},children:"Update"}),t.jsx(i,{className:"bg-red-600 text-gray-50 p-2 rounded m-1 mt-4 mb-4",onClick:function(){h((e=>({...e,initialConfirmation:!0})))},children:"Delete"})]}),t.jsxs("div",{className:"relative my-8 w-[70%]  flex justify-center items-center self-center",children:[" ",t.jsx("span",{className:" flex self-center absolute left-0 top-1/2 transform -translate-y-1/2 w-full h-0.5 bg-gradient-to-r from-blue-400 via-green-400 to-purple-400 rounded-full shadow-md"})," "]})]})}function r(){const[n,a]=l.useState([]),i=e();l.useEffect((()=>{(async()=>{await s.get("http://localhost:3000/klinchem/klinchemBlog").then((e=>{a(e.data)})).catch((e=>{console.log(e)}))})()}),[]);const r=t.jsxs("p",{className:"text-blue-950 flex justify-center items-center text-[1em] h-80 w-[90%] self-center",children:["No Blog. Click on Blog to create post or"," ",t.jsx("button",{onClick:()=>{i("/klinchem/products_blog/new")},className:"bg-blue-700 text-gray-50 p-1 rounded ml-2",children:"Click here"})]});return t.jsx("div",{className:"animate-flyin delay-500 flex justify-center items-center",children:0===n.length?r:n.length>0&&n.map((e=>t.jsx("section",{children:t.jsx("h3",{className:"text-black",children:t.jsx(c,{id:e._id,blogImage:e.blogImage,blogTitle:e.blogTitle,blogMessage:e.blogMessage},e.blogTitle)})},e.blogMessage)))})}export{r as default};
