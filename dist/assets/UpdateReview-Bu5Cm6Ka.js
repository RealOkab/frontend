import{r as s,u as F,b as C,j as e}from"./index-Cv4dHjtR.js";import{l as E,a as h}from"./Please_wait-BDZed1Tz.js";import{R as D}from"./RatingReview-C-A94taS.js";import{a as i}from"./index-xsH4HHeE.js";function U(){const[o,x]=s.useState(!1),[f,g]=s.useState(0),[m,p]=s.useState([]),[l,b]=s.useState([]),u=F(),n=C(),[w,d]=s.useState({productReviewed:"",comment:"",reviewer:"",email:"",rate:0,commentDate:new Date().toISOString()}),c=new Date,v=c.getDate(),y=c.getMonth()+1,j=c.getFullYear(),N=async()=>{await i.put(`http://localhost:3000/klinchem/ProductReviews/${n.id}/update`,w).then(()=>{u("/klinchem/products_reviews")}).catch(t=>{console.log(t)}),x(!0)},R=t=>{t.preventDefault(),N()},r=(t,a)=>{d(P=>({...P,[a]:t.target.value}))},S=t=>{d(a=>({...a,rate:t,commentDate:`${y}/${v}/${j}`}))},k=()=>{u("/klinchem/products_reviews")};return s.useEffect(()=>{(async()=>{await i.get("http://localhost:3000/klinchem/ProductReviews/new").then(a=>{p(a.data)}).catch(a=>{throw new Error(a)}),await i.get(`http://localhost:3000/klinchem/ProductReviews/${n.id}/update`).then(a=>{b(a.data)}).catch(a=>{throw new Error(a)})})()},[n.id]),e.jsxs("div",{className:"w-full h-full flex justify-center items-center animate-flyin flex-col",children:[e.jsxs("section",{className:"w-[50%] ",children:[e.jsx("h1",{className:"flex justify-center items-center mb-8 text-blue-900 text-[2em]",children:"Update Review"}),e.jsxs("form",{encType:"multipart/form-data",onSubmit:R,children:[" ",e.jsxs("div",{className:"mb-4",children:[" ",e.jsxs("div",{className:"mb-4",children:[" ",e.jsx("label",{htmlFor:"reviewer",className:"block text-gray-700 font-medium mb-2",children:"Your Name"}),e.jsx("input",{type:"text",name:"reviewer",className:"text-gray-700 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-950",onChange:t=>r(t,"reviewer"),defaultValue:l.reviewer})]}),e.jsxs("div",{className:"mb-4",children:[" ",e.jsx("label",{htmlFor:"email",className:"block text-gray-700 font-medium mb-2",children:"Email"}),e.jsx("input",{type:"email",name:"email",className:"text-gray-700 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-950",onChange:t=>r(t,"email"),defaultValue:l.email})]}),e.jsxs("div",{className:"mb-4",children:[" ",e.jsx("label",{htmlFor:"productReviewed",className:"block text-gray-700 font-medium mb-2",children:"Select Product"}),e.jsxs("select",{name:"productReviewed",id:"productReviewed",className:"text-gray-700 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-950",onChange:t=>r(t,"productReviewed"),defaultValue:l.productReviewed,children:[e.jsx("option",{value:"Select",children:"Select"}),m.length&&m.map(t=>e.jsx("option",{children:t.productName},t._id))]})]}),e.jsx("label",{htmlFor:"comment",className:"block text-gray-700 font-medium mb-2",children:"Review"}),e.jsx("textarea",{id:"comment",name:"comment",rows:"6",className:"text-gray-700 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-950",placeholder:"Enter your content here...",onChange:t=>r(t,"comment"),required:!0,defaultValue:l.comment})," ",e.jsxs("div",{className:"mb-4",children:[" ",e.jsx("label",{htmlFor:"rate",className:"block text-gray-700 font-medium mb-2",children:"Rate"}),e.jsx("p",{className:"text-black",children:"Please rate the product"}),e.jsx(D,{rating:f,setRating:g,name:"rate",handleReview:S,textSize:"text-[35px]"})," "]})," "]})," ",e.jsxs("div",{className:"flex flex-row",children:[e.jsxs("button",{disabled:o,type:"submit",className:"w-2/3 flex flex-row items-center justify-center bg-black text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-950 focus:ring-opacity-50",children:["Submit",o&&e.jsx("img",{src:E,alt:"loadin-gif",className:"h-4 w-4 rounded ml-1"})]})," ",e.jsx("button",{className:"w-1/3 bg-blue-700 text-gray-50 font-bold rounded ml-2",type:"button",onClick:k,children:"Cancel"})]})]})]}),o&&e.jsxs("p",{className:"text-blue-800 flex justify-center items-center flex-col",children:[e.jsx("img",{src:h,alt:h,className:"w-5 h-5 pt-1 "}),"Please Wait....."]})]})}export{U as default};
