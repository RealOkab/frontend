import{u as e,r as t,j as n}from"./index-DEfae1LS.js";import{a as s}from"./index-BTvahscA.js";import{R as i}from"./RatingReview-C7UldteI.js";import{M as l,B as a}from"./Modal-zL77fQUY.js";function r({reviewer:r,email:c,comment:o,rate:m,product:d,commentDate:x,_id:h}){const u=e(),[f,j]=t.useState({initialConfirmation:!1});return n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex flex-col mt-4 mb-4 w-[70%]",children:[f.initialConfirmation&&n.jsx(l,{open:!0,className:" bg-opacity-30 z-50  flex justify-center items-center rounded  ",children:n.jsxs("div",{className:"flex justify-center items-center  rounded \n         h-[20vh] w-[80vw] ",children:[n.jsx("div",{className:"flex flex-col w-[100%] self-start  rounded",children:n.jsxs("h3",{className:" font-semibold text-blue-500 text-[1.5em] ml-4 ",children:["Deletion",n.jsx("p",{className:"font-Khula font-light text-[0.5em] text-black",children:"Do you want to proceed? This action cannnot be undone"})]})}),n.jsxs("section",{className:"flex flex-row  w-[100%] self-end ",children:[n.jsx(a,{className:"bg-red-500 rounded text-gray-50 ml-1 mr-1 p-2 mb-4 ",type:"button",onClick:async()=>{await s.delete(`http://localhost:3000/klinchem/deleteRreview/${h}/delete`).then((()=>{u("/klinchem/products_reviews/success")})).catch((e=>{throw new Error(e)}))},children:"Confirm"}),n.jsx(a,{className:"bg-blue-600 rounded text-gray-50  ml-1 mr-1  p-2  mb-4 ",type:"button",onClick:()=>{j((e=>({...e,initialConfirmation:!1})))},children:"Cancel"})]})]})}),n.jsx("h2",{className:"font-extralight text-[12px] underline",children:x}),n.jsxs("h2",{className:"font-semibold",children:[r," ",n.jsx("span",{className:"text-[12px] font-thin",children:" reviewing -"}),n.jsxs("span",{className:"text-blue-700 text-[12px]",children:[" ",d]})]}),n.jsx(i,{rating:m,textSize:"text-[15px]"}),n.jsx("h3",{className:"text-[15px] text-gray-500 font-light",children:c}),n.jsx("h4",{children:o})]}),n.jsxs("div",{children:[n.jsx("button",{className:"bg-blue-600 text-white p-1 rounded text-[.8em] mr-1 ",onClick:()=>{u(`/klinchem/ProductReviews/${h}/update`)},children:"Update"}),n.jsx("button",{className:"bg-red-600 text-white p-1 rounded text-[.8em] ml-1",onClick:()=>{j((e=>({...e,initialConfirmation:!0})))},children:"Delete"})]})]})}function c(){const[e,i]=t.useState([]);return t.useEffect((()=>{(async()=>{await s.get("http://localhost:3000/klinchem/ProductReviews").then((e=>{i(e.data)})).catch((e=>{throw new Error(e)}))})()}),[]),n.jsx("div",{className:"animate-fly-in duration-500 text-black flex items-center justify-center mt-6",children:n.jsxs("section",{className:"w-[80%]",children:[n.jsx("h1",{className:"text-blue-700 text-[2em]",children:"All Reviews"}),e.length>0&&e.map((e=>n.jsx(r,{commentDate:e.commentDate.slice(0,10),product:e.productReviewed,reviewer:e.reviewer,email:e.email,comment:e.comment,rate:e.rate,_id:e._id},e._id)))]})})}export{c as default};
