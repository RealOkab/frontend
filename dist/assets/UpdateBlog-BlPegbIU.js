import{u as y,r as o,b as j,j as e}from"./index-Cv4dHjtR.js";import{a as g}from"./index-xsH4HHeE.js";import{l as w,a as d}from"./Please_wait-BDZed1Tz.js";function k(){const c=y(),[a,m]=o.useState(!1),[n,b]=o.useState({}),r=j(),[f,i]=o.useState({blogTitle:"",blogMessage:"",blogImage:""}),h=async t=>{t.preventDefault(),m(!0);let l=f;l.blogMessage=l.blogMessage.replace(/\*(.*?)\*/g,"<strong style='display:contents'>$1</strong>"),l.blogMessage=l.blogMessage.replace(/_p_/g,"<br>"),await g.put(`http://localhost:3000/klinchem/blog/${r.id}/update`,l,{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{c("/klinchem/products_blog")}).catch(s=>{throw console.log(s),new Error(s)})},u=(t,l)=>{i(s=>({...s,[l]:t.target.value}))},x=()=>{c("/klinchem/products_blog")},p=t=>{i(l=>({...l,blogImage:t.target.files[0]}))};return o.useEffect(()=>{g.get(`http://localhost:3000/klinchem/blog/${r.id}/update`).then(t=>{console.log(t.data),b(t.data)}).catch(t=>{throw new Error(t)})},[r]),e.jsxs("div",{className:"w-full h-full flex justify-center items-center animate-flyin flex-col",children:[e.jsxs("section",{className:"w-[50%] ",children:[e.jsx("h1",{className:"flex justify-center items-center mb-8 text-blue-900 text-[2em]",children:"Update Blog"}),e.jsxs("form",{encType:"multipart/form-data",onSubmit:h,children:[" ",e.jsxs("div",{className:"mb-4",children:[" ",e.jsxs("div",{className:"mb-4",children:[" ",e.jsx("label",{htmlFor:"heading",className:"block text-gray-700 font-medium mb-2",children:"Heading"}),e.jsx("input",{type:"text",id:"heading",name:"heading",className:"text-gray-700 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-950",placeholder:"Title here...",onChange:t=>u(t,"blogTitle"),required:!0,defaultValue:n.blogTitle})]}),e.jsx("label",{htmlFor:"content",className:"block text-gray-700 font-medium mb-2",children:"Message"}),e.jsx("textarea",{id:"content",name:"content",rows:"6",className:"text-gray-700 w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-950",placeholder:"Enter your content here...",onChange:t=>u(t,"blogMessage"),required:!0,defaultValue:n.blogMessage})," ",e.jsxs("div",{className:"mb-4",children:[" ",e.jsx("label",{htmlFor:"blogImage",className:"block text-gray-700 font-medium mb-2",children:"Choose File"}),e.jsx("input",{type:"file",id:"blogImage",name:"blogImage",className:"w-full text-gray-700 py-2 px-3 border border-gray-300 rounded-lg cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-950",onChange:t=>p(t),required:!0,defaultValue:n.blogImage})," "]})," "]})," ",e.jsxs("div",{className:"flex flex-row",children:[e.jsxs("button",{disabled:a,type:"submit",className:"w-2/3 mr-1 flex flex-row items-center justify-center bg-black text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-950 focus:ring-opacity-50",children:["Update",a&&e.jsx("img",{src:w,alt:"loadin-gif",className:"h-4 w-4 rounded ml-1"})]})," ",e.jsx("button",{type:"button",className:"ml-1 w-1/3 flex flex-row items-center justify-center bg-blue-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-950 focus:ring-opacity-50",onClick:x,children:"Cancel"})]})]})]}),a&&e.jsxs("p",{className:"text-blue-800 flex justify-center items-center flex-col",children:[e.jsx("img",{src:d,alt:d,className:"w-5 h-5 pt-1 "}),"Please Wait....."]})]})}export{k as default};
